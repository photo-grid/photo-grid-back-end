(this["webpackJsonpphoto-grid.github.io"]=this["webpackJsonpphoto-grid.github.io"]||[]).push([[0],{121:function(t,e,i){"use strict";i.r(e);var n=i(0),r=i.n(n),c=i(73),s=i.n(c),a=(i(85),i(10)),o=i(17),d=i(12),u=i(16),p=i(2),g=i(58),l=i.n(g),h=i(77),m="user-uuid",b=[{id:204900001,picture:"https://www.capturelandscapes.com/wp-content/uploads/2017/03/DSC2441-Panorama.jpeg"},{id:204900002,picture:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHw%3D&w=1000&q=80"},{id:204900003,picture:"https://images.theconversation.com/files/125391/original/image-20160606-13080-s7o3qu.jpg?ixlib=rb-1.1.0&rect=273%2C0%2C2639%2C1379&q=45&auto=format&w=926&fit=clip"},{id:204900004,picture:"https://iso.500px.com/wp-content/uploads/2017/10/PhotographingTwilight_TannerWendellStewart-218136823.jpg"},{id:204900005,picture:"https://llandscapes-10674.kxcdn.com/wp-content/uploads/2019/07/lighting.jpg"},{id:204900006,picture:"https://iso.500px.com/wp-content/uploads/2017/10/PhotographingTwilight_TannerWendellStewart-218136823.jpg"},{id:204900007,picture:"https://thelandscapephotoguy.com/wp-content/uploads/2019/01/landscape%20new%20zealand%20S-shape.jpg"},{id:204900008,picture:"https://res.cloudinary.com/wegowordpress/images/f_auto,q_auto/v1569832709/shutterstock_449250082_zi32oc/shutterstock_449250082_zi32oc.jpg"},{id:204900009,picture:"https://d3hnfqimznafg0.cloudfront.net/images/news/ImageForNews_26919_15786618897301054.png"},{id:204900010,picture:"https://cdn.dribbble.com/users/1803663/screenshots/11400179/media/25558ede8bcb553fd48d7ed339e136ee.png?compress=1&resize=400x300"},{id:204900011,picture:"https://cdn2.outdoorphotographer.com/2019/01/Moody_Landscapes_1.jpg"},{id:204900012,picture:"https://www.transindus.co.uk/media/6749/blog-a-guide-to-sri-lanka-finest-landscapes.jpg"},{id:204900013,picture:"https://d36tnp772eyphs.cloudfront.net/blogs/1/2015/04/Mount-Taranaki-volcano-in-New-Zealand.jpg"},{id:204900014,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSP4irrcGCzv4iFfrdkghmSq9fDGB9xKWUwfQ&usqp=CAU"},{id:204900015,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQXYTWUR1f2ZujGAaZHeYzABB0oX50kV9Q27vTYnmX1EBRc6kK54I3xnqI5hv6Y6mXxb8I&usqp=CAU"},{id:204900016,picture:"https://img.traveltriangle.com/blog/wp-content/uploads/2018/03/acj-2003-beautiful-landscapes-around-the-world-18.jpg"},{id:204900017,picture:"https://lp-cms-production.imgix.net/features/2013/10/GettyImages-518334331_super.jpg?auto=format&fit=crop&sharp=10&vib=20&ixlib=react-8.6.4&w=850"},{id:204900018,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRT5Hy1pupfqj23eeGKy1AmHJfftJrsDOrTKQ&usqp=CAU"},{id:204900019,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSnrYzh1-HrW_MoTbLEWV4d8pmLqK3uMbkagg&usqp=CAU"},{id:204900020,picture:"https://www.diariesofmagazine.com/wp-content/uploads/2018/11/The-most-beautiful-landscapes-in-Kyrgyzstan_flowers.jpg"},{id:204900021,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ3IO8otL-F-kaeJ3MzrKSXi6B7NazEhfo5FQ&usqp=CAU"},{id:204900022,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSu32WhZcgJ_s_WIKY0uHjv6g2aVk6eD46abQ&usqp=CAU"},{id:204900023,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTDRiAmmmUGvNHwIkc-64gGcv35hjMtjwoXtg&usqp=CAU"},{id:204900024,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSfTL_XOzj6vHEG0soRKtq31j5g3PK-X_zfMQ&usqp=CAU"},{id:204900025,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSHi76rsfKeXt_AA6_Fmh3_FJE4yQeuPDFYqg&usqp=CAU"},{id:204900026,picture:"https://res.cloudinary.com/wegowordpress/images/f_auto,q_auto/w_1000,h_667/v1569901181/shutterstock_324673247_oamxno/shutterstock_324673247_oamxno.jpg"},{id:204900027,picture:"https://images.pexels.com/photos/132037/pexels-photo-132037.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"},{id:204900028,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSpQhdentf0zbfI3VQyAbGZLqpRmGkW_FRksg&usqp=CAU"},{id:204900029,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQAuyIuyaCzoE8BXK0ixwfSMCiOU-RP7WTkyw&usqp=CAU"},{id:204900030,picture:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRCcAlAN8TqhLhL9m9cnhHJvX8fTyAZ8HrfSw&usqp=CAU"}],j=i(46),f=i.n(j),x=function(){var t=Object(h.a)(l.a.mark((function t(e,i){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.get("https://dev-pb-apps.s3-eu-west-1.amazonaws.com/collection/CHhASmTpKjaHyAsSaauThRqMMjWanYkQ.json");case 3:n=t.sent,e(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),i(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,i){return t.apply(this,arguments)}}(),O=i(144),y=function(t){localStorage.setItem(m,t)},w={setUserUUID:y,getUserUUID:function(){var t=localStorage.getItem(m);return t||(t=Object(O.a)(),y(t)),t}},v=f.a.create({baseURL:"/api",timeout:6e6,headers:{"User-UUID":w.getUserUUID()}}),q="set-grid-images",A="set-grid-images-error",C="set-grid",I="set-grid-error",k="clear-grid-errors",_=function(t,e,i){var c=r.a.createContext();return{Context:c,Provider:function(r){var s=r.children,a=Object(n.useReducer)(t,i),d=Object(u.a)(a,2),g=d[0],l=d[1],h={};for(var m in e)h[m]=e[m](l);return Object(p.jsx)(c.Provider,{value:Object(o.a)({state:g},h),children:s})}}}((function(t,e){switch(e.type){case q:return Object(o.a)(Object(o.a)({},t),{},{images:e.images,imagesProcessing:!1});case A:return Object(o.a)(Object(o.a)({},t),{},{imagesError:e.error,imagesProcessing:!1});case C:return Object(o.a)(Object(o.a)({},t),{},{grid:e.grid,items:e.items,gridProcessing:!1});case I:return Object(o.a)(Object(o.a)({},t),{},{gridError:e.error,gridProcessing:!1});case k:return Object(o.a)(Object(o.a)({},t),{},{imagesError:"",imagesProcessing:!0,gridError:"",gridProcessing:!0});default:return t}}),{loadImages:function(t){return function(){t({type:k}),x((function(e){t({type:q,images:e.data.entries})}),(function(e){t({type:A,error:"Images loading failed: ".concat(e)})}))}},getGrid:function(t){return function(){t({type:k}),function(t,e){try{v.get("/grid").then((function(e){return t(e)})).catch((function(t){return e(t)}))}catch(i){e(i)}}((function(e){t({type:C,grid:e.data.gridImage,items:e.data.items})}),(function(e){t({type:I,error:"Grid loading failed: ".concat(e)})}))}},updateGrid:function(t){return function(e){t({type:k}),function(t,e,i){try{v.put("/grid",{items:t}).then((function(t){return e(t)})).catch((function(t){return i(t)}))}catch(n){i(n)}}(e,(function(e){t({type:C,grid:e.data.gridImage,items:e.data.items})}),(function(e){t({type:I,error:"Grid updating failed: ".concat(e)})}))}}},{images:[],imagesError:"",imagesProcessing:!1,grid:[],items:[],gridError:"",gridProcessing:!1}),U=_.Context,G=_.Provider,P=i(142),S=i(146),z=i(141),N=i(147),T=i(145),E=i(148),F=i(149),H=i(143),D=i(78),L=i.n(D),M=i(50),R=Object(P.a)((function(t){return{image:{backgroundImage:"url('/images/background.png')",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat",display:"inline-block",verticalAlign:"middle"},numberLabel:{position:"absolute",width:"25px",height:"25px"},button:{margin:t.spacing(1)}}})),W=function(){var t=R(),e=Object(a.f)().search.startsWith("?light=true"),i=Object(n.useContext)(U),r=i.state,c=r.images,s=(r.imagesError,r.imagesProcessing,r.grid,r.items),g=(r.gridError,r.gridProcessing),l=i.loadImages,h=i.updateGrid,m=Object(n.useState)([]),j=Object(u.a)(m,2),f=j[0],x=j[1];Object(n.useEffect)((function(){e||l()}),[e]);var O=function(t){var e=f.filter((function(e){return e.imageId!==t.id}));f.length===e.length?f.length<9&&x([].concat(Object(d.a)(e),[{imageId:t.id,imageURL:t.picture,position:f.length}])):x(e.map((function(t,e){return Object(o.a)(Object(o.a)({},t),{},{position:e})})))};return Object(n.useEffect)((function(){if(s.length&&s.length>0&&0===f.length){var t=Object(d.a)(s);t.sort((function(t,e){return t.position-e.position})),x(t)}}),[s]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{}),Object(p.jsxs)(E.a,{fixed:!0,children:[Object(p.jsx)(z.a,{display:"flex",justifyContent:"center",children:Object(p.jsx)(F.a,{sx:{width:600,height:600},cols:3,rowHeight:200,children:(e?b:c).map((function(e,i){var n=f.find((function(t){return t.imageId===e.id}));return Object(p.jsxs)(S.a,{children:[Object(p.jsx)("img",{srcSet:e.picture,alt:"ID: ".concat(e.id),loading:"lazy",className:t.image,onClick:function(){O(e)}}),n&&Object(p.jsx)(z.a,{display:"flex",justifyContent:"center",bgcolor:"rgba(0, 0, 0, 0.55)",p:1,className:t.numberLabel,children:Object(p.jsx)(z.a,{display:"flex",alignItems:"center",children:Object(p.jsx)(N.a,{variant:"h6",color:M.a[400],children:n.position+1})})})]},e.id)}))})}),Object(p.jsx)(z.a,{display:"flex",justifyContent:"flex-end",children:Object(p.jsx)(H.a,{variant:"contained",color:"primary",size:"large",className:t.button,startIcon:Object(p.jsx)(L.a,{}),disabled:9!==f.length||g,onClick:function(){h(f)},children:"Save"})})]})]})},K=function(){var t=Object(n.useContext)(U),e=t.state,i=e.grid,r=(e.gridProcessing,t.getGrid);return Object(n.useEffect)((function(){r()}),[]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("img",{alt:"Combined grid",srcSet:i})})},Q=i(150),X=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(T.a,{}),Object(p.jsx)(E.a,{fixed:!0,children:Object(p.jsxs)(Q.a,{container:!0,height:"100%",justifyItems:"center",alignItems:"center",children:[Object(p.jsx)(Q.a,{item:!0,xs:6,children:Object(p.jsx)(W,{})}),Object(p.jsx)(Q.a,{item:!0,xs:6,children:Object(p.jsx)(K,{})})]})})]})},B=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("h1",{children:"Page not found"})})},J=function(){return Object(p.jsx)(G,{children:Object(p.jsxs)(a.c,{children:[Object(p.jsx)(a.a,{exact:!0,path:"/",children:Object(p.jsx)(X,{})}),Object(p.jsx)(a.a,{path:"*",children:Object(p.jsx)(B,{})})]})})},Y=function(t){t&&t instanceof Function&&i.e(3).then(i.bind(null,152)).then((function(e){var i=e.getCLS,n=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;i(t),n(t),r(t),c(t),s(t)}))},Z=i(56);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Z.a,{children:Object(p.jsx)(J,{})})}),document.getElementById("root")),Y()},85:function(t,e,i){}},[[121,1,2]]]);
//# sourceMappingURL=main.d7982ee9.chunk.js.map